(self.webpackChunk_postman_app_scratchpad=self.webpackChunk_postman_app_scratchpad||[]).push([[21],{6705:function(t,e){e.quote=function(t){return t.map((function(t){return t&&"object"==typeof t?t.op.replace(/(.)/g,"\\$1"):/["\s]/.test(t)&&!/'/.test(t)?"'"+t.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(t)?'"'+t.replace(/(["\\$`!])/g,"\\$1")+'"':String(t).replace(/([A-z]:)?([#!"$&'()*,:;<=>?@\[\\\]^`{|}])/g,"$1\\$2")})).join(" ")};for(var r="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",n="|&;()<> \\t",s="(\\\\['\""+n+"]|[^\\s'\""+n+"])+",o='"((\\\\"|[^"])*?)"',i="'((\\\\'|[^'])*?)'",a="",l=0;l<4;l++)a+=(Math.pow(16,8)*Math.random()).toString(16);const u=/\\x([0-9A-Fa-f]{2})|\\u([0-9A-Fa-f]{4})|\\u\{([0-9A-Fa-f]{1,6})\}|\\([\s\S])/gm,c={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",0:"\0"};e.parse=function(t,e,n){var l=function(t,e,n){var l=new RegExp(["("+r+")","("+s+"|"+o+"|"+i+")*"].join("|"),"g"),p=t.match(l).filter(Boolean),h=!1;if(!p)return[];e||(e={});n||(n={});return p.map((function(t,e){if(!h){if(RegExp("^"+r+"$").test(t))return{op:t};var s=function(t,e,r,n,s){return s?c[s]||`\\${s}`:(EqCodeUnit=parseInt(e||r||n,16),EqCodeUnit>parseInt("10FFFF",16)?t:String.fromCharCode(EqCodeUnit))};"string"==typeof t&&t.startsWith("$'")&&t.endsWith("'")&&t.length>3&&(t=t.replace(u,s));for(var o="'",i='"',a="$",l=n.escape||"\\",f=!1,g=!1,m="",y=!1,v=0,w=t.length;v<w;v++){var b=t.charAt(v);if(y=y||!f&&("*"===b||"?"===b),g)m+=b,g=!1;else if(f)b===f?f=!1:f==o&&t.charAt(0)!==a?m+=b:b===l?(v+=1,(b=t.charAt(v))===i||b===l||b===a||b===o&&t.charAt(0)===a?m+=b:m+=l+b):m+=b===a?x():b;else if(b===i||b===o)f=b;else{if(RegExp("^"+r+"$").test(b))return{op:t};if(RegExp("^#$").test(b))return h=!0,m.length?[m,{comment:t.slice(v+1)+p.slice(e+1).join(" ")}]:[{comment:t.slice(v+1)+p.slice(e+1).join(" ")}];b===l?g=!0:m+=b===a?x():b}}return y?{op:"glob",pattern:m}:m}function x(){var e,r;if(v+=1,"{"===t.charAt(v)){if(v+=1,"}"===t.charAt(v))throw new Error("Bad substitution: "+t.substr(v-2,3));if((e=t.indexOf("}",v))<0)throw new Error("Bad substitution: "+t.substr(v));r=t.substr(v,e-v),v=e}else/[*@#?$!_\-]/.test(t.charAt(v))?(r=t.charAt(v),v+=1):(e=t.substr(v).match(/[^\w\d_]/))?(r=t.substr(v,e.index),v+=e.index-1):(r=t.substr(v),v=t.length);return d(null,"",r)}})).reduce((function(t,e){return void 0===e?t:t.concat(e)}),[]);function d(t,r,n){var s="function"==typeof e?e(n):e[n];return void 0===s&&""!=n?s="":void 0===s&&(s="$"),"object"==typeof s?r+a+JSON.stringify(s)+a:r+s}}(t,e,n);return"function"!=typeof e?l:l.reduce((function(t,e){if("object"==typeof e)return t.concat(e);var r=e.split(RegExp("("+a+".*?"+a+")","g"));return 1===r.length?t.concat(r[0]):t.concat(r.filter(Boolean).map((function(t){return RegExp("^"+a).test(t)?JSON.parse(t.split(a)[1]):t})))}),[])}},6707:function(t){t.exports=[{short:"-A",long:"--user-agent",description:"An optional user-agent string",format:"<string>",collectValues:!1},{short:"-d",long:"--data",description:"Sends the specified data to the server with type application/x-www-form-urlencoded. application/x-www-form-urlencoded",format:"[string]",collectValues:!0},{long:"--data-raw",description:"Sends the specified data to the server with type application/x-www-form-urlencoded. application/x-www-form-urlencoded",format:"[string]",collectValues:!0},{long:"--data-ascii",description:"Sends the specified data to the server with type application/x-www-form-urlencoded. application/x-www-form-urlencoded",format:"[string]",collectValues:!0},{long:"--data-urlencode",description:"Sends the specified data to the server with type application/x-www-form-urlencoded. application/x-www-form-urlencoded",format:"[string]",collectValues:!0},{long:"--data-binary",description:"Data sent as-is",format:"[string]",collectValues:!1},{short:"-F",long:"--form",description:"A single form-data field",format:"<name=content>",collectValues:!0},{short:"-G",long:"--get",description:"Forces the request to be sent as GET, with the --data parameters appended to the query string",collectValues:!1},{short:"-H",long:"--header",description:"Add a header (can be used multiple times)",format:"[string]",collectValues:!0},{short:"-X",long:"--request",description:"Specify a custom request method to be used",format:"[string]",collectValues:!1},{short:"-I",long:"--head",description:"Forces the request to be sent as HEAD, with the --data parameters appended to the query string",collectValues:!1},{short:"-T",long:"--upload-file",description:"Forces the request to be sent as PUT with the specified local file to the server",format:"[string]",collectValues:!0},{long:"--url",description:"An alternate way to specify the URL",format:"[string]",collectValues:!1},{long:"--basic",description:"Use HTTP Basic authentication",collectValues:!1},{long:"--digest",description:"Use HTTP Digest authentication",collectValues:!1},{long:"--ntlm",description:"Use NTLM Digest authentication",collectValues:!1},{short:"-u",long:"--user",description:"Username and password for server authentication",format:"[string]",collectValues:!1},{short:"-b",long:"--cookie",description:'Specifies cookies to be used in the format "NAME=VALUE" or a file to read cookies from',format:"[string]",collectValues:!0}]},6706:function(t){t.exports=["--anyauth","-a","--append","--basic","--cert-status","--compressed-ssh","--compressed","--create-dirs","--crlf","--disable-eprt","--disable-epsv","-q","--disable","--disallow-username-in-url","--fail-early","-f","--fail","--false-start","--ftp-create-dirs","--ftp-pasv","--ftp-pret","--ftp-skip-pasv-ip","--ftp-ssl-ccc","--ftp-ssl-control","-g","--globoff","--haproxy-protocol","-h","--help","--http0.9","-0","--http1.0","--http1.1","--http2-prior-knowledge","--http2","--http3","--ignore-content-length","-i","--include","-k","--insecure","-4","--ipv4","-6","--ipv6","-j","--junk-session-cookies","-l","--list-only","--location-trusted","-L","--location","-M","--manual","--metalink","--negotiate","--netrc-optional","-n","--netrc","-:","--next","--no-alpn","-N","--no-buffer","--no-keepalive","--no-npn","--no-sessionid","--ntlm-wb","--parallel-max","-Z","--parallel","--path-as-is","--post301","--post302","--post303","--preproxy [protocol://]host[:port]","-#","--progress-bar","--proxy-anyauth","--proxy-basic","--proxy-digest","--proxy-insecure","--proxy-negotiate","--proxy-ntlm","--proxy-ssl-allow-beast","--proxy-tlsv1","-x","--proxy [protocol://]host[:port]","-p","--proxytunnel","-Q","--quote","--raw","-J","--remote-header-name","--remote-name-all","-O","--remote-name","-R","--remote-time","--request-target","--retry-connrefused","--sasl-authzid","--sasl-ir","-S","--show-error","-s","--silent","--socks5-basic","--socks5-gssapi-nec","--socks5-gssapi","--ssl-allow-beast","--ssl-no-revoke","--ssl-reqd","--ssl","-2","--sslv2","-3","--sslv3","--stderr","--styled-output","--suppress-connect-headers","--tcp-fastopen","--tcp-nodelay","--tftp-no-options","--tlspassword","--tlsv1.0","--tlsv1.1","--tlsv1.2","--tlsv1.3","-1","--tlsv1","--tr-encoding","--trace-time","-B","--use-ascii","-v","--verbose","-V","--version","--xattr"]},6699:function(t,e,r){t.exports={validate:r(6700),convert:r(6710),getMetaData:r(6711)}},6702:function(t,e,r){var n=r(33),s=r(211).EventEmitter,o=r(6703).spawn,i=r(100),a=i.dirname,l=i.basename,u=r(228);function c(t,e){this.flags=t,this.required=t.indexOf("<")>=0,this.optional=t.indexOf("[")>=0,this.bool=-1===t.indexOf("-no-"),(t=t.split(/[ ,|]+/)).length>1&&!/^[[<]/.test(t[1])&&(this.short=t.shift()),this.long=t.shift(),this.description=e||""}function p(t){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=t||""}function h(t,e){var r=Math.max(0,e-t.length);return t+Array(r+1).join(" ")}function d(t,e){e=e||[];for(var r=0;r<e.length;r++)"--help"!==e[r]&&"-h"!==e[r]||(t.outputHelp(),n.exit(0))}function f(t){var e=t.name+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}function g(t){try{if(u.statSync(t).isFile())return!0}catch(t){return!1}}r(117).inherits(p,s),(e=t.exports=new p).Command=p,e.Option=c,c.prototype.name=function(){return this.long.replace("--","").replace("no-","")},c.prototype.attributeName=function(){return this.name().split("-").reduce((function(t,e){return t+e[0].toUpperCase()+e.slice(1)}))},c.prototype.is=function(t){return this.short===t||this.long===t},p.prototype.command=function(t,e,r){"object"==typeof e&&null!==e&&(r=e,e=null),r=r||{};var n=t.split(/ +/),s=new p(n.shift());return e&&(s.description(e),this.executables=!0,this._execs[s._name]=!0,r.isDefault&&(this.defaultExecutable=s._name)),s._noHelp=!!r.noHelp,this.commands.push(s),s.parseExpectedArgs(n),s.parent=this,e?this:s},p.prototype.arguments=function(t){return this.parseExpectedArgs(t.split(/ +/))},p.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},p.prototype.parseExpectedArgs=function(t){if(t.length){var e=this;return t.forEach((function(t){var r={required:!1,name:"",variadic:!1};switch(t[0]){case"<":r.required=!0,r.name=t.slice(1,-1);break;case"[":r.name=t.slice(1,-1)}r.name.length>3&&"..."===r.name.slice(-3)&&(r.variadic=!0,r.name=r.name.slice(0,-3)),r.name&&e._args.push(r)})),this}},p.prototype.action=function(t){var e=this,r=function(r,n){r=r||[],n=n||[];var s=e.parseOptions(n);d(e,s.unknown),s.unknown.length>0&&e.unknownOption(s.unknown[0]),s.args.length&&(r=s.args.concat(r)),e._args.forEach((function(t,n){t.required&&null==r[n]?e.missingArgument(t.name):t.variadic&&(n!==e._args.length-1&&e.variadicArgNotLast(t.name),r[n]=r.splice(n))})),e._args.length?r[e._args.length]=e:r.push(e),t.apply(e,r)},n=this.parent||this,s=n===this?"*":this._name;return n.on("command:"+s,r),this._alias&&n.on("command:"+this._alias,r),this},p.prototype.option=function(t,e,r,n){var s=this,o=new c(t,e),i=o.name(),a=o.attributeName();if("function"!=typeof r)if(r instanceof RegExp){var l=r;r=function(t,e){var r=l.exec(t);return r?r[0]:e}}else n=r,r=null;return(!o.bool||o.optional||o.required)&&(o.bool||(n=!0),void 0!==n&&(s[a]=n,o.defaultValue=n)),this.options.push(o),this.on("option:"+i,(function(t){null!==t&&r&&(t=r(t,void 0===s[a]?n:s[a])),"boolean"==typeof s[a]||void 0===s[a]?s[a]=null==t?!!o.bool&&(n||!0):t:null!==t&&(s[a]=t)})),this},p.prototype.allowUnknownOption=function(t){return this._allowUnknownOption=0===arguments.length||t,this},p.prototype.parse=function(t){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=t,this._name=this._name||l(t[1],".js"),this.executables&&t.length<3&&!this.defaultExecutable&&t.push("--help");var e=this.parseOptions(this.normalize(t.slice(2))),r=this.args=e.args,n=this.parseArgs(this.args,e.unknown),s=n.args[0],o=null;return s&&(o=this.commands.filter((function(t){return t.alias()===s}))[0]),!0===this._execs[s]?this.executeSubCommand(t,r,e.unknown):o?(r[0]=o._name,this.executeSubCommand(t,r,e.unknown)):this.defaultExecutable?(r.unshift(this.defaultExecutable),this.executeSubCommand(t,r,e.unknown)):n},p.prototype.executeSubCommand=function(t,e,r){(e=e.concat(r)).length||this.help(),"help"===e[0]&&1===e.length&&this.help(),"help"===e[0]&&(e[0]=e[1],e[1]="--help");var s,c=t[1],p=l(c,i.extname(c))+"-"+e[0],h=u.realpathSync(c);s=a(h);var d,f=i.join(s,p),m=!1;g(f+".js")?(p=f+".js",m=!0):g(f+".ts")?(p=f+".ts",m=!0):g(f)&&(p=f),e=e.slice(1),"win32"!==n.platform?m?(e.unshift(p),e=(n.execArgv||[]).concat(e),d=o(n.argv[0],e,{stdio:"inherit",customFds:[0,1,2]})):d=o(p,e,{stdio:"inherit",customFds:[0,1,2]}):(e.unshift(p),d=o(n.execPath,e,{stdio:"inherit"}));["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((function(t){n.on(t,(function(){!1===d.killed&&null===d.exitCode&&d.kill(t)}))})),d.on("close",n.exit.bind(n)),d.on("error",(function(t){"ENOENT"===t.code?console.error("error: %s(1) does not exist, try --help",p):"EACCES"===t.code&&console.error("error: %s(1) not executable. try chmod or run with root",p),n.exit(1)})),this.runningCommand=d},p.prototype.normalize=function(t){for(var e,r,n,s=[],o=0,i=t.length;o<i;++o){if(e=t[o],o>0&&(r=this.optionFor(t[o-1])),"--"===e){s=s.concat(t.slice(o));break}r&&r.required?s.push(e):e.length>1&&"-"===e[0]&&"-"!==e[1]?e.slice(1).split("").forEach((function(t){s.push("-"+t)})):/^--/.test(e)&&~(n=e.indexOf("="))?s.push(e.slice(0,n),e.slice(n+1)):s.push(e)}return s},p.prototype.parseArgs=function(t,e){var r;return t.length?(r=t[0],this.listeners("command:"+r).length?this.emit("command:"+t.shift(),t,e):this.emit("command:*",t)):(d(this,e),e.length>0&&this.unknownOption(e[0]),0===this.commands.length&&0===this._args.filter((function(t){return t.required})).length&&this.emit("command:*")),this},p.prototype.optionFor=function(t){for(var e=0,r=this.options.length;e<r;++e)if(this.options[e].is(t))return this.options[e]},p.prototype.parseOptions=function(t){for(var e,r,n,s=[],o=t.length,i=[],a=0;a<o;++a)if(n=t[a],e)s.push(n);else if("--"!==n)if(r=this.optionFor(n))if(r.required){if(null==(n=t[++a]))return this.optionMissingArgument(r);this.emit("option:"+r.name(),n)}else r.optional?(null==(n=t[a+1])||"-"===n[0]&&"-"!==n?n=null:++a,this.emit("option:"+r.name(),n)):this.emit("option:"+r.name());else n.length>1&&"-"===n[0]?(i.push(n),a+1<t.length&&"-"!==t[a+1][0]&&i.push(t[++a])):s.push(n);else e=!0;return{args:s,unknown:i}},p.prototype.opts=function(){for(var t={},e=this.options.length,r=0;r<e;r++){var n=this.options[r].attributeName();t[n]=n===this._versionOptionName?this._version:this[n]}return t},p.prototype.missingArgument=function(t){console.error("error: missing required argument `%s'",t),n.exit(1)},p.prototype.optionMissingArgument=function(t,e){e?console.error("error: option `%s' argument missing, got `%s'",t.flags,e):console.error("error: option `%s' argument missing",t.flags),n.exit(1)},p.prototype.unknownOption=function(t){this._allowUnknownOption||(console.error("error: unknown option `%s'",t),n.exit(1))},p.prototype.variadicArgNotLast=function(t){console.error("error: variadic arguments must be last `%s'",t),n.exit(1)},p.prototype.version=function(t,e){if(0===arguments.length)return this._version;this._version=t;var r=new c(e=e||"-V, --version","output the version number");return this._versionOptionName=r.long.substr(2)||"version",this.options.push(r),this.on("option:"+this._versionOptionName,(function(){n.stdout.write(t+"\n"),n.exit(0)})),this},p.prototype.description=function(t,e){return 0===arguments.length?this._description:(this._description=t,this._argsDescription=e,this)},p.prototype.alias=function(t){var e=this;if(0!==this.commands.length&&(e=this.commands[this.commands.length-1]),0===arguments.length)return e._alias;if(t===e._name)throw new Error("Command alias can't be the same as its name");return e._alias=t,this},p.prototype.usage=function(t){var e=this._args.map((function(t){return f(t)})),r="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+e.join(" "):"");return 0===arguments.length?this._usage||r:(this._usage=t,this)},p.prototype.name=function(t){return 0===arguments.length?this._name:(this._name=t,this)},p.prototype.prepareCommands=function(){return this.commands.filter((function(t){return!t._noHelp})).map((function(t){var e=t._args.map((function(t){return f(t)})).join(" ");return[t._name+(t._alias?"|"+t._alias:"")+(t.options.length?" [options]":"")+(e?" "+e:""),t._description]}))},p.prototype.largestCommandLength=function(){return this.prepareCommands().reduce((function(t,e){return Math.max(t,e[0].length)}),0)},p.prototype.largestOptionLength=function(){var t=[].slice.call(this.options);return t.push({flags:"-h, --help"}),t.reduce((function(t,e){return Math.max(t,e.flags.length)}),0)},p.prototype.largestArgLength=function(){return this._args.reduce((function(t,e){return Math.max(t,e.name.length)}),0)},p.prototype.padWidth=function(){var t=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>t&&(t=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>t&&(t=this.largestCommandLength()),t},p.prototype.optionHelp=function(){var t=this.padWidth();return this.options.map((function(e){return h(e.flags,t)+"  "+e.description+(e.bool&&void 0!==e.defaultValue?" (default: "+JSON.stringify(e.defaultValue)+")":"")})).concat([h("-h, --help",t)+"  output usage information"]).join("\n")},p.prototype.commandHelp=function(){if(!this.commands.length)return"";var t=this.prepareCommands(),e=this.padWidth();return["Commands:",t.map((function(t){var r=t[1]?"  "+t[1]:"";return(r?h(t[0],e):t[0])+r})).join("\n").replace(/^/gm,"  "),""].join("\n")},p.prototype.helpInformation=function(){var t=[];if(this._description){t=[this._description,""];var e=this._argsDescription;if(e&&this._args.length){var r=this.padWidth();t.push("Arguments:"),t.push(""),this._args.forEach((function(n){t.push("  "+h(n.name,r)+"  "+e[n.name])})),t.push("")}}var n=this._name;this._alias&&(n=n+"|"+this._alias);var s=["Usage: "+n+" "+this.usage(),""],o=[],i=this.commandHelp();i&&(o=[i]);var a=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return s.concat(t).concat(a).concat(o).join("\n")},p.prototype.outputHelp=function(t){t||(t=function(t){return t}),n.stdout.write(t(this.helpInformation())),this.emit("--help")},p.prototype.help=function(t){this.outputHelp(t),n.exit()}},6708:function(t){class e extends Error{constructor(t,e){super(t),this.name="UserError",this.data=e||{}}}t.exports=e},6709:function(t){t.exports={USER_ERRORS:{INVALID_FORMAT:"Invalid format for cURL.",METHOD_NOT_SUPPORTED:(t,e)=>`The method ${e} is not supported.`,UNABLE_TO_PARSE_HEAD_AND_DATA:"Unable to parse: Both (--head/-I) and (-d/--data/--data-raw/--data-binary/--data-ascii/--data-urlencode) are not supported.",UNABLE_TO_PARSE_NO_URL:"Unable to parse: Could not identify the URL. Please use the --url option.",CANNOT_DETECT_URL:"Could not detect the URL from cURL. Please make sure it's a valid cURL.",INPUT_WITHOUT_OPTIONS:"Only the URL can be provided without an option preceding it. All other inputs must be specified via options.",MALFORMED_URL:"Please check your cURL string for malformed URL."}}},6710:function(t,e,r){var n=r(6701);t.exports=function(t,e){var r;return t||e(null,{result:!1,reason:"Invalid input object provided"}),"string"===t.type?(r=n.convertCurlToRequest(t.data)).error?e(null,{result:!1,error:r.error,reason:r.error.message}):e(null,{result:!0,output:[{type:"request",data:r}]}):e(null,{result:!1,reason:"Only input.type=string supported for cURL"})}},6711:function(t,e,r){var n=r(6701);t.exports=function(t,e){var r;return t||e(null,{result:!1,reason:"Invalid input object provided"}),"string"===t.type?(r=n.getMetaData(t.data)).error?e(null,{result:!1,error:r.error,reason:r.error.message}):e(null,{result:!0,name:r.url,output:[{type:"request",data:r.url}]}):e(null,{result:!1,reason:"Only input.type=string supported for cURL"})}},6701:function(t,r,n){const s=n(6702),o=n(6704),i=n(12).noConflict(),a=n(6705),l=n(6706),u=n(6707),c=n(6708),{USER_ERRORS:p}=n(6709),h=["-d","--data","--data-raw","--data-binary","--data-ascii"],d=["<",">","(",")"],f="text",g="json",m="javascript",y="html",v="xml",w={[g]:/^application\/(\S+\+)?json/,[m]:/^(text|application)\/(\S+\+)?javascript/,[v]:/^(text|application)\/(\S+\+)?xml/,[y]:/^text\/html/},b=["cookie"];var x,A={requestUrl:"",initialize:function(){function t(t,e){return e.push(t),e}(x=new s.Command).version("0.0.1").allowUnknownOption().usage("[options] <URL ...>"),u.forEach((e=>{var r="";r+=e.short?`${e.short}, ${e.long}`:e.long,e.format&&(r+=` ${e.format}`),e.collectValues?x.option(r,e.description,t,[]):x.option(r,e.description,null)}))},trimQuotesFromString:function(t){if(!t)return"";var e=t.length;return'"'===t[0]&&'"'===t[e-1]||"'"===t[0]&&"'"===t[e-1]?t.substring(1,e-1):t},addQueryParamsFromDataOption:function(t,e,r){t.get&&(t.data.length>0||t.dataAscii.length>0||t.dataUrlencode.length>0||t.dataRaw.length>0||t.dataBinary)&&e&&(r.url.includes("?")?r.url+="&"+e:r.url+="?"+e)},getRequestMethod:function(t){return t.uploadFile.length>0?"PUT":t.head?"HEAD":t.get?"GET":t.data.length>0||t.dataAscii.length>0||t.dataUrlencode.length>0||t.dataRaw.length>0||t.dataBinary||t.form.length>0?"POST":"GET"},validateCurlRequest:function(t){var e,r=["GET","POST","PUT","PATCH","DELETE","COPY","HEAD","OPTIONS","LINK","UNLINK","PURGE","LOCK","UNLOCK","PROPFIND"],n=i.toUpper(t.request);if(-1===r.indexOf(n)&&((e=i.find(t.rawArgs,(function(t){return"string"==typeof t&&t.startsWith("-X")})))&&(t.request=e.substring(2)),n=i.toUpper(t.request),-1===r.indexOf(n)))throw new c(p.METHOD_NOT_SUPPORTED`${t.request}`);if((t.data.length>0||t.dataAscii.length>0||t.dataBinary||t.dataUrlencode.length>0)&&t.head&&!t.get)throw new c(p.UNABLE_TO_PARSE_HEAD_AND_DATA);if(t.args.length>1&&i.includes(t.args,"^"))throw new c(p.INPUT_WITHOUT_OPTIONS)},getHeaders:function(t){var e,r,n=t.header,s=[];if(n=n||[],t.userAgent&&(r=this.trimQuotesFromString(t.userAgent),this.headerPairs["User-Agent"]=r,s.push({key:"User-Agent",value:r})),t.cookie&&Array.isArray(t.cookie)&&t.cookie.forEach((t=>{n.push("Cookie: "+this.trimQuotesFromString(t))})),null===n||0===n.length)return s;e=n.length;for(let t=0;t<e;t++){let e,r=n[t];if("string"==typeof r){if(r=this.trimQuotesFromString(r),e=r.indexOf(":"),-1===e){if(!r.endsWith(";"))continue;r=r.slice(0,-1)+":",e=r.indexOf(":")}key=r.substring(0,e).trim(),value=r.substring(e+1,r.length).trim(),this.headerPairs.hasOwnProperty(key)&&!b.includes(key.toLowerCase())||(this.headerPairs[key]=value,s.push({key:key,value:value}))}else console.warn("Unparseable header in curl conversion: ",r)}return s},getAuth:function(t){let e;const r="string"==typeof t.user&&t.user.split(":")||[];return 1===r.length&&(r[1]=""),e=!0===t.digest?{type:"digest",digest:[{key:"username",value:r[0],type:"string"},{key:"password",value:r[1],type:"string"}]}:!0===t.ntlm?{type:"ntlm",ntlm:[{key:"username",value:r[0],type:"string"},{key:"password",value:r[1],type:"string"}]}:{type:"basic",basic:[{key:"username",value:r[0],type:"string"},{key:"password",value:r[1],type:"string"}]},e},resetProgram:function(){this.requestUrl=""},getDataForForm:function(t,e,r){var n,s,o=t.length,a=[],l="",u="";for(let c=0;c<o;c++){let o=t[c],p={type:"text"};""!==t[c]&&(o=this.trimQuotesFromString(o),-1===(n=o.indexOf("="))?(l=o,u=""):(l=o.substring(0,n),u=o.substring(n+1,o.length),"formdata"===r&&((s=u.match(/;\s*type=([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/))&&(p.contentType=s[1]+"/"+s[2],u=u.slice(0,s.index)),u.startsWith("@")&&(p.type="file",u=u.slice(1)),u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=(u=u.slice(1,-1)).replace(/\\\"/gm,'"')))),e&&(l=decodeURIComponent(l.replace(/\+/g,"%20")),u=decodeURIComponent(u.replace(/\+/g,"%20"))),i.assign(p,{key:l,value:u}),a.push(p))}return a},getDataForUrlEncoded:function(t,e){var r=t.join("&").trim();return t=this.trimQuotesFromString(r).split("&"),this.getDataForForm(t,e)},getLowerCaseHeader:function(t,e){for(var r in e)if(e.hasOwnProperty(r)&&r.toLowerCase()===t.toLowerCase())return e[r];return""},convertArrayToAmpersandString:function(t){return t.join("&")},sanitizeArgs:function(t){var e,r=a.parse("node "+t,(function(t){return"$"+t})),n=i.map(i.filter(r,(function(t){return!l.includes(t)&&!i.isEmpty(t)})),(function(e){if(i.isObject(e)&&"glob"===e.op)return e.pattern;if(e.op&&e.op.startsWith("$")&&e.op.length>3)return e.op.substring(2,e.op.length-1);if("string"!=typeof e&&"&"===e.op){const e=/[^ "]+\?[^ "]+&[^ "]+($|(?=\s))/g,r=/(\w+=\w+&?)/g;if(t.match(e)||t.match(r))throw new c(p.MALFORMED_URL)}else if(i.isFunction(e.startsWith)&&e.startsWith("$")&&e.length>1)return e.substring(1);return e})),s=[];for(u.forEach((t=>{s.push(t.long),t.short&&s.push(t.short)})),e=0;e<n.length;e++){let t=n[e];if(i.isFunction(t.startsWith)&&t.startsWith("-X")&&"-X"!==t&&!s.includes(n[e-1])){let r=t.slice(2);n[e]="-X",n.splice(e+1,0,r)}}return n},getMetaData:function(t){try{this.initialize();var e=this.sanitizeArgs(t),r=x.parse(e);return this.getRequestUrl(r),{url:this.requestUrl}}catch(t){return"process.exit is not a function"===t.message?{error:new c(p.INVALID_FORMAT)}:{error:t}}},getRequestUrl:function(t){if(this.requestUrl="",0===t.args.length)if(t.url)this.requestUrl=t.url;else try{if(this.requestUrl=t.rawArgs.slice(-1)[0],!o.isUri(this.requestUrl))throw"No valid URL found"}catch(t){throw new c(p.UNABLE_TO_PARSE_NO_URL)}else{if(!(t.args.length>0))throw new c(p.CANNOT_DETECT_URL);{let e="string"==typeof t.url?t.url:"";i.forEach(t.args,((r,n)=>{const s=i.get(t.args,n-1+".op",""),o=0===n||d.includes(s);if("string"==typeof r&&o)e+=r;else{if("object"!=typeof r||!d.includes(r.op))return!1;e+=r.op}})),this.requestUrl=e}}},transformCmdToBash:function(t){return t.replace(new RegExp(/\^(\^|{|}|\[|\]|<|>|\\|"|\||&|\n)|\^(%)\^|"(")/,"g"),"$1$2$3")},parseFormBoundryData:function(t,e){var r,n,s,o=[];return(r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i))&&"string"==typeof t?(n="\r\n--"+(r[1]||r[2]),s=t.split(new RegExp(n)),i.forEach(s,(t=>{var e,r=t.split("\r\n\r\n"),n={};r.length<2||(e=r[0].split("\r\n"),i.forEach(e,(t=>{var e=t.match(/^.*name="([^"]*)"\s*;\s*filename="([^"]*)"$/);e?n={key:e[1],value:e[2],type:"file"}:(e=t.match(/^.*name="([^"]*)"$/))&&(n={key:e[1],value:r[1],type:"text"})})),i.isEmpty(n)||o.push(n))})),o):o},convertForCMDFormat:function(t){try{const e=this.transformCmdToBash(t),r=this.convertCurlToRequest(e,!1);return r.description="Generated from a curl request: \n"+t.split('"').join('\\"'),r}catch(t){throw e}},getCurlObject:function(t){let e,r,n=t,s=!1;try{e=this.sanitizeArgs(n),r=x.parse(e)}catch(s){const o=/\s([^'` "\n]+)\.([^ \n]+)&((?!["'])[^ "`'\n])+($|(?=\s))/gm;let i=t.match(o),a="",l="";i&&i.length>0&&(l=i[0].slice(0,1),a=i[0].slice(1)),n=t.replace(o,`${l}'${a}'`),e=this.sanitizeArgs(n),r=x.parse(e)}return r.args=i.filter(r.args,(t=>!("object"==typeof t&&"string"==typeof t.comment))),this.headerPairs={},"string"==typeof r.request&&r.request||(r.request=this.getRequestMethod(r),s=!0),r.request=this.trimQuotesFromString(r.request),this.validateCurlRequest(r),this.getRequestUrl(r),{isMethodGuessed:s,curlObj:r}},validate:function(t,e=!0){try{return this.initialize(),this.getCurlObject(t),{result:!0}}catch(r){return e?(t=this.transformCmdToBash(t),this.validate(t,!1)):{result:!1,reason:r.message,error:r}}},escapeJson:function(t){return meta={"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r"},t.replace(/[\t\n\f\r]/g,(t=>meta[t]))},identifyGraphqlRequest:function(t,e){try{const r=i.attempt(JSON.parse,this.escapeJson(t));if("application/json"===e&&r&&!i.isError(r)){if(!i.has(r,"query")||!i.isString(r.query))return{result:!1};if(i.has(r,"variables")){if(!i.isObject(r.variables))return{result:!1}}else r.variables={};if(i.has(r,"operationName")){if(!i.isString(r.operationName))return{result:!1};delete r.operationName}if(2===i.keys(r).length){const t=JSON.stringify(r.variables,null,2);return{result:!0,graphql:{query:r.query,variables:"{}"===t?"":t}}}}return{result:!1}}catch(t){return{result:!1}}},convertCurlToRequest:function(t,e=!0){try{this.initialize(),this.requestUrl="";let e,r,n,s,o,a,{isMethodGuessed:l,curlObj:u}=this.getCurlObject(t),c={},p="",d=[];if(c.method="GET",u.request&&0!==u.request.length&&(c.method=u.request),c.url=c.name=this.trimQuotesFromString(this.requestUrl),c.header=this.getHeaders(u),c.body={},u.user&&(c.auth=this.getAuth(u)),e=this.getLowerCaseHeader("content-type",this.headerPairs),null!==u.dataBinary)c.body.mode="raw",c.body.raw=u.dataBinary;else if(u.form&&0!==u.form.length)c.body.mode="formdata",c.body.formdata=this.getDataForForm(u.form,!1,c.body.mode);else if(u.data&&0!==u.data.length||u.dataAscii&&0!==u.dataAscii.length||u.dataRaw&&0!==u.dataRaw.length||u.dataUrlencode&&0!==u.dataUrlencode.length)if(""===e||"application/x-www-form-urlencoded"===e)c.body.mode="urlencoded",c.body.urlencoded=this.getDataForUrlEncoded(u.data,!0).concat(this.getDataForUrlEncoded(u.dataRaw,!0)).concat(this.getDataForUrlEncoded(u.dataUrlencode,!0)).concat(this.getDataForUrlEncoded(u.dataAscii,!1)),d.push(this.convertArrayToAmpersandString(u.data)),d.push(this.convertArrayToAmpersandString(u.dataRaw)),d.push(this.convertArrayToAmpersandString(u.dataUrlencode)),d.push(this.convertArrayToAmpersandString(u.dataAscii)),p=i.join(i.reject(d,(t=>!t)),"&");else{r=this.convertArrayToAmpersandString(u.data),n=this.convertArrayToAmpersandString(u.dataRaw),o=this.convertArrayToAmpersandString(u.dataUrlencode),s=this.convertArrayToAmpersandString(u.dataAscii),d.push(this.trimQuotesFromString(r)),d.push(this.trimQuotesFromString(n)),d.push(this.trimQuotesFromString(o)),d.push(this.trimQuotesFromString(s));const t=i.join(i.reject(d,(t=>!t)),"&"),a=this.identifyGraphqlRequest(t,e);if(a.result)c.body.mode="graphql",c.body.graphql=a.graphql;else{c.body.mode="raw",c.body.raw=t,c.body.options={},c.body.options.raw={};try{c.body.options.raw.language=Object.keys(w).find((t=>w[t].test(e)))||f}catch(t){c.body.options.raw.language=f}}p=c.data}else i.toLower(e).startsWith("multipart/form-data")&&(i.forEach(u.rawArgs,((t,e)=>{if(i.includes(h,t))return a=i.get(u.rawArgs,e+1),!1})),c.body.mode="formdata",c.body.formdata=this.parseFormBoundryData(a,e),!i.isEmpty(c.body.formdata)&&l&&(c.method="POST"));return"formdata"===c.body.mode&&i.remove(c.header,(t=>"content-type"===i.toLower(t.key))),this.addQueryParamsFromDataOption(u,p,c),c.description="Generated from a curl request: \n"+t.split('"').join('\\"'),c}catch(r){if(e)try{return this.convertForCMDFormat(t)}catch(t){}return"process.exit is not a function"===r.message?{error:new c(p.INVALID_FORMAT)}:{error:r}}}};t.exports=A},6700:function(t,e,r){var n=r(6701);t.exports=function(t){return"string"==typeof t&&t.startsWith("curl ")?n.validate(t):{result:!1,reason:"Curl commands must begin with `curl `"}}},6704:function(t,e,r){!function(t){"use strict";t.exports.is_uri=r,t.exports.is_http_uri=n,t.exports.is_https_uri=s,t.exports.is_web_uri=o,t.exports.isUri=r,t.exports.isHttpUri=n,t.exports.isHttpsUri=s,t.exports.isWebUri=o;var e=function(t){return t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function r(t){if(t&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)&&!/%[^0-9a-f]/i.test(t)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t)){var r,n,s,o,i,a="",l="";if(a=(r=e(t))[1],n=r[2],s=r[3],o=r[4],i=r[5],a&&a.length&&s.length>=0){if(n&&n.length){if(0!==s.length&&!/^\//.test(s))return}else if(/^\/\//.test(s))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return l+=a+":",n&&n.length&&(l+="//"+n),l+=s,o&&o.length&&(l+="?"+o),i&&i.length&&(l+="#"+i),l}}}function n(t,n){if(r(t)){var s,o,i,a,l="",u="",c="",p="";if(l=(s=e(t))[1],u=s[2],o=s[3],i=s[4],a=s[5],l){if(n){if("https"!=l.toLowerCase())return}else if("http"!=l.toLowerCase())return;if(u)return/:(\d+)$/.test(u)&&(c=u.match(/:(\d+)$/)[0],u=u.replace(/:\d+$/,"")),p+=l+":",p+="//"+u,c&&(p+=c),p+=o,i&&i.length&&(p+="?"+i),a&&a.length&&(p+="#"+a),p}}}function s(t){return n(t,!0)}function o(t){return n(t)||s(t)}}(t=r.nmd(t))}}]);