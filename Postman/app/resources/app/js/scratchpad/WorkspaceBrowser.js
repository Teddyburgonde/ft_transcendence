"use strict";(self.webpackChunk_postman_app_scratchpad=self.webpackChunk_postman_app_scratchpad||[]).push([[16],{7844:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var a=s(1),r=s(2537),i=s(1827),n=s(1832);function o(){return i.default.transitionTo(n.ALL_WORKSPACES_IDENTIFIER)}function c(){return a.createElement("div",{className:"artemis-workspace-error-state"},a.createElement("div",{className:"artemis-workspace-error-state__background"}),a.createElement("div",{className:"artemis-workspace-error-state__title"},"Something Went Wrong"),a.createElement("div",{className:"artemis-workspace-error-state__description"},"Postman has encountered an error. If this problem persists, contact us at help@postman.com"),a.createElement(r.Button,{className:"artemis-workspace-error-state__switch-btn",type:"primary",onClick:o},"Go to Workspaces"))}},7843:function(e,t,s){s.r(t);var a,r=s(1),i=s(1006),n=s(2098),o=s(2537),c=s(2884),p=s(1822),l=s(6558),d=s(3657),h=s(2102),m=s.n(h),k=s(1643),w=s(1706),u=s(1927),y=s(1730),_=s(1821),f=s(12);const E=(0,_.c)((a=class extends r.Component{constructor(e){super(e),this.state={selectedWorkspace:null,isJoining:!1,isSharing:!1,joiningWorkspaceId:""},this.workspaceStore=(0,p.getStore)("WorkspaceStore"),this.handleWorkspaceJoin=this.handleWorkspaceJoin.bind(this),this.handleWorkspaceSelect=this.handleWorkspaceSelect.bind(this),this.handleShareEntity=this.handleShareEntity.bind(this),this.handleViewEntity=this.handleViewEntity.bind(this),this.postJoinWorkspace=this.postJoinWorkspace.bind(this)}postJoinWorkspace(e){let t=f.find((0,p.getStore)("ArtemisBlanketStore").state.workspaces,["id",e]);f.set(t,"state.isMember",!0)}handleWorkspaceJoin(e){if(!e)return;let t=(0,k.createEvent)("join","workspace",{model:"workspace",workspace:{id:e}});this.setState({isJoining:!0,joiningWorkspaceId:e}),(0,w.default)(t).then((()=>{this.setState({isJoining:!1,joiningWorkspaceId:""},(()=>this.postJoinWorkspace(e)))})).catch((e=>{this.setState({isJoining:!1,joiningWorkspaceId:""})}))}handleWorkspaceSelect(e){this.setState({selectedWorkspace:f.find(this.props.workspaces,{id:e})})}handleShareEntity(){this.setState({isSharing:!0});let e=(0,p.getStore)("ActiveWorkspaceStore").id,t=[{entityType:this.props.entityType,entityId:this.props.entityId,workspaceId:e}];return y.default.modifyDependencies(t,null,null,{fromId:f.get((0,p.getStore)("ActiveWorkspaceStore"),"id")}).then((()=>Promise.resolve().then((()=>f.isFunction(this.props.postShareHandler)?this.props.postShareHandler(this.props.entityId,e):this.props.viewEntityHandler(this.props.entityId,e))).then((()=>this.setState({isSharing:!1}))).catch((e=>this.setState({isSharing:!1}))))).catch((e=>this.setState({isSharing:!1})))}handleViewEntity(){return f.isFunction(this.props.viewEntityHandler)&&this.props.viewEntityHandler(this.props.entityId,f.get(this.state.selectedWorkspace,"id"))}render(){const e=u.ENTITY_MAP[this.props.entityType],t=this.props.entityName,s=(0,p.getStore)("ActiveWorkspaceStore").name,a=this.props.isCanonicalURL;return this.props.workspaces&&a&&1===this.props.workspaces.length?(f.isFunction(this.props.viewEntityHandler)&&this.props.viewEntityHandler(this.props.entityId,f.get(this.props.workspaces,"[0].id")),null):r.createElement("div",{className:"artemis-workspace-share-entity"},r.createElement("div",{className:"artemis-workspace-share-entity__background"}),!this.props.isCanonicalURL&&r.createElement(r.Fragment,null,r.createElement("div",{className:"artemis-workspace-share-entity__title"},e," not in this workspace"),r.createElement("div",{className:"artemis-workspace-share-entity__description"},"The ",r.createElement("span",{className:"artemis-workspace-share-entity__description-entity-name"},t," "),e," is not present in the",r.createElement("span",{className:"artemis-workspace-share-entity__description-workspace-name"}," ",s)," workspace."),r.createElement(o.Button,{className:"artemis-workspace-share-entity__share-btn",type:"primary",onClick:this.handleShareEntity},this.state.isSharing?r.createElement(d.default,null):`Share ${e} to this workspace`)),!f.isEmpty(this.props.workspaces)&&r.createElement("div",{className:"artemis-workspace-share-entity__workspace-action"},r.createElement("div",{className:"artemis-workspace-share-entity__workspace-action-text"},"or ",r.createElement("br",null),"View ",e," in a ",a?"":"different ","workspace"),r.createElement("div",{className:"artemis-workspace-share-entity__workspace-action-actions"},r.createElement(c.Dropdown,{className:"artemis-workspace-share-entity__dropdown",onSelect:this.handleWorkspaceSelect},r.createElement(c.DropdownButton,{className:"artemis-workspace-share-entity__dropdown-btn",type:"secondary",size:"small"},r.createElement(o.Button,null,f.get(this.state.selectedWorkspace,"name","Select workspace"))),r.createElement(c.DropdownMenu,{fluid:!0,className:"artemis-workspace-share-entity__dropdown-menu"},f.map(this.props.workspaces,(e=>{let t=!f.get(e,"state.isMember",!1);return r.createElement(c.MenuItem,{className:"artemis-workspace-share-entity__workspace-item",key:e.id,refKey:e.id,disabled:t},r.createElement("div",{className:m()("artemis-workspace-share-entity__workspace-list",{unjoined:t})},r.createElement("div",{className:m()("artemis-workspace-share-entity__workspace",{unjoined:t})},r.createElement(l.default,{icon:"icon-entity-workspaces-stroke"}),r.createElement("div",{className:"artemis-workspace-share-entity__workspace-name"},e.name)),t&&(this.state.isJoining&&e.id===this.state.joiningWorkspaceId?r.createElement(d.default,null):r.createElement(o.Button,{className:"artemis-workspace-share-entity__join-btn",type:"text",onClick:()=>{this.handleWorkspaceJoin(e.id)}},"Join"))))})))),r.createElement(o.Button,{className:"artemis-workspace-share-entity__view-btn",type:"secondary",onClick:this.handleViewEntity},"View ",e))))}},(0,_.n)(a.prototype,"postJoinWorkspace",[i.action]),a),[n.observer]);t.default=E},7840:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=s(1),r=s(1006),i=s(2537),n=s(7841),o=s(1706),c=s(1822),p=s(1643),l=s(4162),d=s(12);class h extends a.Component{constructor(e){super(e),this.state={isJoining:!1},this.handleBrowseWorkspace=this.handleBrowseWorkspace.bind(this),this.handleWorkspaceJoin=this.handleWorkspaceJoin.bind(this)}handleBrowseWorkspace(){(0,n.openWorkspace)(this.props.workspaceId)}handleWorkspaceJoin(){if(!this.props.workspaceId)return;let e=(0,p.createEvent)("join","workspace",{model:"workspace",workspace:{id:this.props.workspaceId}});this.setState({isJoining:!0}),(0,o.default)(e).then((()=>{this.workspaceStoreReaction=(0,r.reaction)((()=>(0,c.getStore)("WorkspaceStore").find(this.props.workspaceId)),(e=>{if(d.isEmpty(e))return this.setState({isJoining:!1}),this.workspaceStoreReaction&&this.workspaceStoreReaction();this.setState({isJoining:!1},(()=>{l.default.switchWorkspace(e.id).then((()=>((0,c.getStore)("ArtemisBlanketStore").clearState(),this.workspaceStoreReaction&&this.workspaceStoreReaction())))}))}),{fireImmediately:!0})})).catch((e=>{this.setState({isJoining:!1})}))}render(){return a.createElement("div",{className:"artemis-workspace-join"},a.createElement("div",{className:"artemis-workspace-join__background"}),a.createElement("div",{className:"artemis-workspace-join__title"},"Join this workspace"),a.createElement("div",{className:"artemis-workspace-join__description"},"To work with any of the items in this workspace, first join the workspace."),a.createElement(i.Button,{className:"artemis-workspace-join__join-btn",type:"primary",onClick:this.handleWorkspaceJoin,disabled:this.state.isJoining},"Join Workspace"),a.createElement(i.Button,{className:"artemis-workspace-join__browse-btn",type:"text",onClick:this.handleBrowseWorkspace},"Browse Workspace"))}}},7842:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var a=s(1),r=s(2537),i=s(7841),n=s(1822),o=s(12);class c extends a.Component{constructor(e){super(e),this.handleViewWorkspaces=this.handleViewWorkspaces.bind(this)}handleViewWorkspaces(){let e=o.get((0,n.getStore)("CurrentUserStore"),"organizations.[0]")?"team":"personal";(0,i.openWorkspaces)(e)}render(){return a.createElement("div",{className:"artemis-workspace-not-found"},a.createElement("div",{className:"artemis-workspace-not-found__background"}),a.createElement("div",{className:"artemis-workspace-not-found__title"},"Workspace not found"),a.createElement("div",{className:"artemis-workspace-not-found__description"},"We can't find this workspace, make sure this isn't a private/personal workspace or it hasn't been deleted."),a.createElement(r.Button,{className:"artemis-workspace-not-found__view-workspaces-btn",type:"primary",onClick:this.handleViewWorkspaces},"View All Workspaces"))}}},7841:function(e,t,s){s.r(t),s.d(t,{openWorkspace:function(){return r},openWorkspaces:function(){return i}});var a=s(1814);function r(e){(0,a.openAuthenticatedRoute)(`${pm.dashboardUrl}/workspaces/${e}`)}function i(e){(0,a.openAuthenticatedRoute)(`${pm.dashboardUrl}/workspaces?type=${e}`)}},7839:function(e,t,s){s.r(t);var a=s(7840),r=s(7842),i=s(7843),n=s(7844);const o={unjoinedWorkspace:a.default,workspaceNotFound:r.default,entityShare:i.default,error:n.default};t.default=o},7838:function(e,t,s){s.r(t),s.d(t,{default:function(){return n}});var a=s(1),r=s(1822),i=s(7839);class n extends a.Component{constructor(e){super()}render(){const e=(0,r.getStore)("ArtemisBlanketStore"),t=e.identifier,s=i.default[t];if(s)return a.createElement(s,e.state)}}}}]);